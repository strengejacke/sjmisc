<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />



<title>Working with Labelled Data</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; }
code > span.dt { color: #902000; }
code > span.dv { color: #40a070; }
code > span.bn { color: #40a070; }
code > span.fl { color: #40a070; }
code > span.ch { color: #4070a0; }
code > span.st { color: #4070a0; }
code > span.co { color: #60a0b0; font-style: italic; }
code > span.ot { color: #007020; }
code > span.al { color: #ff0000; font-weight: bold; }
code > span.fu { color: #06287e; }
code > span.er { color: #ff0000; font-weight: bold; }
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<link href="data:text/css,body%20%7B%0A%20%20background%2Dcolor%3A%20%23fff%3B%0A%20%20margin%3A%201em%20auto%3B%0A%20%20max%2Dwidth%3A%20700px%3B%0A%20%20overflow%3A%20visible%3B%0A%20%20padding%2Dleft%3A%202em%3B%0A%20%20padding%2Dright%3A%202em%3B%0A%20%20font%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0A%20%20font%2Dsize%3A%2014px%3B%0A%20%20line%2Dheight%3A%201%2E35%3B%0A%7D%0A%0A%23header%20%7B%0A%20%20text%2Dalign%3A%20center%3B%0A%7D%0A%0A%23TOC%20%7B%0A%20%20clear%3A%20both%3B%0A%20%20margin%3A%200%200%2010px%2010px%3B%0A%20%20padding%3A%204px%3B%0A%20%20width%3A%20400px%3B%0A%20%20border%3A%201px%20solid%20%23CCCCCC%3B%0A%20%20border%2Dradius%3A%205px%3B%0A%0A%20%20background%2Dcolor%3A%20%23f6f6f6%3B%0A%20%20font%2Dsize%3A%2013px%3B%0A%20%20line%2Dheight%3A%201%2E3%3B%0A%7D%0A%20%20%23TOC%20%2Etoctitle%20%7B%0A%20%20%20%20font%2Dweight%3A%20bold%3B%0A%20%20%20%20font%2Dsize%3A%2015px%3B%0A%20%20%20%20margin%2Dleft%3A%205px%3B%0A%20%20%7D%0A%0A%20%20%23TOC%20ul%20%7B%0A%20%20%20%20padding%2Dleft%3A%2040px%3B%0A%20%20%20%20margin%2Dleft%3A%20%2D1%2E5em%3B%0A%20%20%20%20margin%2Dtop%3A%205px%3B%0A%20%20%20%20margin%2Dbottom%3A%205px%3B%0A%20%20%7D%0A%20%20%23TOC%20ul%20ul%20%7B%0A%20%20%20%20margin%2Dleft%3A%20%2D2em%3B%0A%20%20%7D%0A%20%20%23TOC%20li%20%7B%0A%20%20%20%20line%2Dheight%3A%2016px%3B%0A%20%20%7D%0A%0Atable%20%7B%0A%20%20margin%3A%201em%20auto%3B%0A%20%20border%2Dwidth%3A%201px%3B%0A%20%20border%2Dcolor%3A%20%23DDDDDD%3B%0A%20%20border%2Dstyle%3A%20outset%3B%0A%20%20border%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0A%20%20border%2Dwidth%3A%202px%3B%0A%20%20padding%3A%205px%3B%0A%20%20border%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0A%20%20border%2Dwidth%3A%201px%3B%0A%20%20border%2Dstyle%3A%20inset%3B%0A%20%20line%2Dheight%3A%2018px%3B%0A%20%20padding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0A%20%20border%2Dleft%2Dstyle%3A%20none%3B%0A%20%20border%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0A%20%20background%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0A%0Ap%20%7B%0A%20%20margin%3A%200%2E5em%200%3B%0A%7D%0A%0Ablockquote%20%7B%0A%20%20background%2Dcolor%3A%20%23f6f6f6%3B%0A%20%20padding%3A%200%2E25em%200%2E75em%3B%0A%7D%0A%0Ahr%20%7B%0A%20%20border%2Dstyle%3A%20solid%3B%0A%20%20border%3A%20none%3B%0A%20%20border%2Dtop%3A%201px%20solid%20%23777%3B%0A%20%20margin%3A%2028px%200%3B%0A%7D%0A%0Adl%20%7B%0A%20%20margin%2Dleft%3A%200%3B%0A%7D%0A%20%20dl%20dd%20%7B%0A%20%20%20%20margin%2Dbottom%3A%2013px%3B%0A%20%20%20%20margin%2Dleft%3A%2013px%3B%0A%20%20%7D%0A%20%20dl%20dt%20%7B%0A%20%20%20%20font%2Dweight%3A%20bold%3B%0A%20%20%7D%0A%0Aul%20%7B%0A%20%20margin%2Dtop%3A%200%3B%0A%7D%0A%20%20ul%20li%20%7B%0A%20%20%20%20list%2Dstyle%3A%20circle%20outside%3B%0A%20%20%7D%0A%20%20ul%20ul%20%7B%0A%20%20%20%20margin%2Dbottom%3A%200%3B%0A%20%20%7D%0A%0Apre%2C%20code%20%7B%0A%20%20background%2Dcolor%3A%20%23f7f7f7%3B%0A%20%20border%2Dradius%3A%203px%3B%0A%20%20color%3A%20%23333%3B%0A%7D%0Apre%20%7B%0A%20%20white%2Dspace%3A%20pre%2Dwrap%3B%20%20%20%20%2F%2A%20Wrap%20long%20lines%20%2A%2F%0A%20%20border%2Dradius%3A%203px%3B%0A%20%20margin%3A%205px%200px%2010px%200px%3B%0A%20%20padding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0A%20%20background%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0A%0Acode%20%7B%0A%20%20font%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0A%20%20font%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0A%20%20padding%3A%202px%200px%3B%0A%7D%0A%0Adiv%2Efigure%20%7B%0A%20%20text%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0A%20%20background%2Dcolor%3A%20%23FFFFFF%3B%0A%20%20padding%3A%202px%3B%0A%20%20border%3A%201px%20solid%20%23DDDDDD%3B%0A%20%20border%2Dradius%3A%203px%3B%0A%20%20border%3A%201px%20solid%20%23CCCCCC%3B%0A%20%20margin%3A%200%205px%3B%0A%7D%0A%0Ah1%20%7B%0A%20%20margin%2Dtop%3A%200%3B%0A%20%20font%2Dsize%3A%2035px%3B%0A%20%20line%2Dheight%3A%2040px%3B%0A%7D%0A%0Ah2%20%7B%0A%20%20border%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0A%20%20padding%2Dtop%3A%2010px%3B%0A%20%20padding%2Dbottom%3A%202px%3B%0A%20%20font%2Dsize%3A%20145%25%3B%0A%7D%0A%0Ah3%20%7B%0A%20%20border%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0A%20%20padding%2Dtop%3A%2010px%3B%0A%20%20font%2Dsize%3A%20120%25%3B%0A%7D%0A%0Ah4%20%7B%0A%20%20border%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0A%20%20margin%2Dleft%3A%208px%3B%0A%20%20font%2Dsize%3A%20105%25%3B%0A%7D%0A%0Ah5%2C%20h6%20%7B%0A%20%20border%2Dbottom%3A%201px%20solid%20%23ccc%3B%0A%20%20font%2Dsize%3A%20105%25%3B%0A%7D%0A%0Aa%20%7B%0A%20%20color%3A%20%230033dd%3B%0A%20%20text%2Ddecoration%3A%20none%3B%0A%7D%0A%20%20a%3Ahover%20%7B%0A%20%20%20%20color%3A%20%236666ff%3B%20%7D%0A%20%20a%3Avisited%20%7B%0A%20%20%20%20color%3A%20%23800080%3B%20%7D%0A%20%20a%3Avisited%3Ahover%20%7B%0A%20%20%20%20color%3A%20%23BB00BB%3B%20%7D%0A%20%20a%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0A%20%20%20%20text%2Ddecoration%3A%20underline%3B%20%7D%0A%20%20a%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0A%20%20%20%20text%2Ddecoration%3A%20underline%3B%20%7D%0A%0A%2F%2A%20Class%20described%20in%20https%3A%2F%2Fbenjeffrey%2Ecom%2Fposts%2Fpandoc%2Dsyntax%2Dhighlighting%2Dcss%0A%20%20%20Colours%20from%20https%3A%2F%2Fgist%2Egithub%2Ecom%2Frobsimmons%2F1172277%20%2A%2F%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%2F%2A%20Keyword%20%2A%2F%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%2F%2A%20DataType%20%2A%2F%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%2F%2A%20DecVal%20%28decimal%20values%29%20%2A%2F%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%2F%2A%20BaseN%20%2A%2F%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%2F%2A%20Float%20%2A%2F%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%2F%2A%20Char%20%2A%2F%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%2F%2A%20String%20%2A%2F%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%2F%2A%20Comment%20%2A%2F%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%2F%2A%20OtherToken%20%2A%2F%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%2F%2A%20AlertToken%20%2A%2F%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%2F%2A%20Function%20calls%20%2A%2F%20%0Acode%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%2F%2A%20ErrorTok%20%2A%2F%0A%0A" rel="stylesheet" type="text/css" />

</head>

<body>



<div id="header">
<h1 class="title">Working with Labelled Data</h1>
</div>


<div id="labelled-data" class="section level1">
<h1>Labelled Data</h1>
<p>In software like SPSS, it is common to have value and variable labels as variable attributes. Variable values, even if categorical, are mostly numeric. In R, however, you may use labels as values directly:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">factor</span>(<span class="kw">c</span>(<span class="st">&quot;low&quot;</span>, <span class="st">&quot;high&quot;</span>, <span class="st">&quot;mid&quot;</span>, <span class="st">&quot;high&quot;</span>, <span class="st">&quot;low&quot;</span>))
## [1] low  high mid  high low 
## Levels: high low mid</code></pre>
<p>Reading SPSS-data (from <code>haven</code>, <code>foreign</code> or <code>sjmisc</code>), keeps the numeric values for variables, but adds the value and variable labels as attributes. See following example from the sample-dataset <code>efc</code>, which is part of the <strong>sjmisc</strong>-package:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(sjmisc)
<span class="kw">data</span>(efc)
<span class="kw">str</span>(efc$e42dep)
##  atomic [1:908] 3 3 3 4 4 4 4 4 4 4 ...
##  - attr(*, &quot;label&quot;)= chr &quot;how dependent is the elder? - subjective perception of carer&quot;
##  - attr(*, &quot;labels&quot;)= Named num [1:4] 1 2 3 4
##   ..- attr(*, &quot;names&quot;)= chr [1:4] &quot;independent&quot; &quot;slightly dependent&quot; &quot;moderately dependent&quot; &quot;severely dependent&quot;</code></pre>
<p>While all plotting and table functions of the <a href="http://cran.r-project.org/package=sjPlot">sjPlot-package</a> make use of labelled data, many packages and/or functions do not consider these attributes, e.g. R base graphics:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(sjmisc)
<span class="kw">data</span>(efc)
<span class="kw">barplot</span>(<span class="kw">table</span>(efc$e42dep, efc$e16sex), 
        <span class="dt">beside =</span> T, 
        <span class="dt">legend.text =</span> T)</code></pre>
<p><img src="data:image/png;base64,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" /></p>
<p>As you can see in the above figure, the plot has neither axis nor legend labels.</p>
</div>
<div id="adding-value-labels-as-factor-values" class="section level1">
<h1>Adding value labels as factor values</h1>
<p><code>to_label</code> converts a numeric variable into a factor and sets value labels as factor levels. When using factors with “labelled”&quot; levels, the bar plot will also be labelled.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">barplot</span>(<span class="kw">table</span>(<span class="kw">to_label</span>(efc$e42dep),
              <span class="kw">to_label</span>(efc$e16sex)), 
        <span class="dt">beside =</span> T, 
        <span class="dt">legend.text =</span> T)</code></pre>
<p><img src="data:image/png;base64,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" /></p>
</div>
<div id="adding-variable-names-as-title" class="section level1">
<h1>Adding variable names as title</h1>
<p>There are four functions that let you easily set or get value and variable labels of either a single vector or a complete data frame (see also other vignettes):</p>
<ul>
<li><code>get_label()</code> to get variable labels</li>
<li><code>get_labels()</code> to get value labels</li>
<li><code>set_label()</code> to set variable labels (add them as vector attribute)</li>
<li><code>set_labels()</code> to set value labels (add them as vector attribute)</li>
</ul>
<p>You can easily add titles to plots dynamically, i.e. depending on the variable that is plotted.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">barplot</span>(<span class="kw">table</span>(<span class="kw">to_label</span>(efc$e42dep),
              <span class="kw">to_label</span>(efc$e16sex)), 
        <span class="dt">beside =</span> T, 
        <span class="dt">legend.text =</span> T,
        <span class="dt">main =</span> <span class="kw">get_label</span>(efc$e42dep))</code></pre>
<p><img src="data:image/png;base64,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" /></p>
</div>
<div id="another-example" class="section level1">
<h1>Another example</h1>
<p>Converting <code>labelled</code> vectors into <code>factor</code>s usually drops label attributes (e.g. using <code>as_factor</code>) or replaces values with the associated labels (like <code>to_label</code> does). If you want to convert a labelled vector into a numeric factor, but keep the label attributes (including variable labels), use <code>to_factor</code>.</p>
<p>Functions like <code>lm</code> simply copy these attributes and store these information in the returned object; see following example from the <code>sjPlot</code>-package:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(sjPlot)
<span class="kw">data</span>(efc)
<span class="co"># make education categorical</span>
efc$c172code &lt;-<span class="st"> </span><span class="kw">to_factor</span>(efc$c172code)
fit &lt;-<span class="st"> </span><span class="kw">lm</span>(barthtot ~<span class="st"> </span>c160age +<span class="st"> </span>c12hour +<span class="st"> </span>c172code +<span class="st"> </span>c161sex, 
          <span class="dt">data =</span> efc)</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sjt.lm</span>(fit, <span class="dt">group.pred =</span> <span class="ot">TRUE</span>)</code></pre>
<table style="border-collapse:collapse; border:none;border-bottom:double;">
<tr>
<td style="padding:0.2cm; border-top:double;">
 
</td>
<td style="padding-left:0.5em; padding-right:0.5em; border-top:double;">
 
</td>
<td style="padding:0.2cm; text-align:center; border-bottom:1px solid; border-top:double;" colspan="3">
Model 1
</td>
</tr>
<tr>
<td style="padding:0.2cm; font-style:italic;">
 
</td>
<td style="padding-left:0.5em; padding-right:0.5em; font-style:italic;">
 
</td>
<td style="padding:0.2cm; text-align:center; font-style:italic; ">
B
</td>
<td style="padding:0.2cm; text-align:center; font-style:italic; ">
CI
</td>
<td style="padding:0.2cm; text-align:center; font-style:italic; ">
p
</td>
</tr>
<tr>
<td style="padding:0.2cm; border-top:2px solid; text-align:left;">
(Intercept)
</td>
<td style="padding-left:0.5em; padding-right:0.5em; border-top:2px solid; ">
 
</td>
<td style="padding:0.2cm; text-align:center; border-top:2px solid; ">
87.54
</td>
<td style="padding:0.2cm; text-align:center; border-top:2px solid; ">
76.34 - 98.75
</td>
<td style="padding:0.2cm; text-align:center; border-top:2px solid; ">
<b>&lt;.001</b>
</td>
</tr>
<tr>
<td style="padding:0.2cm; text-align:left;">
carer’ age
</td>
<td style="padding-left:0.5em; padding-right:0.5em;">
 
</td>
<td style="padding:0.2cm; text-align:center; ">
-0.21
</td>
<td style="padding:0.2cm; text-align:center; ">
-0.35 - -0.07
</td>
<td style="padding:0.2cm; text-align:center; ">
<b>.004</b>
</td>
</tr>
<tr>
<td style="padding:0.2cm; text-align:left;">
average number of hours of care for the elder in a week
</td>
<td style="padding-left:0.5em; padding-right:0.5em;">
 
</td>
<td style="padding:0.2cm; text-align:center; ">
-0.28
</td>
<td style="padding:0.2cm; text-align:center; ">
-0.32 - -0.24
</td>
<td style="padding:0.2cm; text-align:center; ">
<b>&lt;.001</b>
</td>
</tr>
<tr>
<td style="padding:0.2cm;" colspan="5">
carer’s level of education: recoding of variable c172edu1
</td>
</tr>
<tr>
<td style="font-style:italic; padding:0.2cm; padding-left:0.6cm; text-align:left;">
intermediate level of education
</td>
<td style="padding-left:0.5em; padding-right:0.5em;">
 
</td>
<td style="padding:0.2cm; text-align:center; ">
1.37
</td>
<td style="padding:0.2cm; text-align:center; ">
-3.12 - 5.85
</td>
<td style="padding:0.2cm; text-align:center; ">
.550
</td>
</tr>
<tr>
<td style="font-style:italic; padding:0.2cm; padding-left:0.6cm; text-align:left;">
high level of education
</td>
<td style="padding-left:0.5em; padding-right:0.5em;">
 
</td>
<td style="padding:0.2cm; text-align:center; ">
-1.64
</td>
<td style="padding:0.2cm; text-align:center; ">
-7.22 - 3.93
</td>
<td style="padding:0.2cm; text-align:center; ">
.564
</td>
</tr>
<tr>
<td style="padding:0.2cm; text-align:left;">
carer’s gender
</td>
<td style="padding-left:0.5em; padding-right:0.5em;">
 
</td>
<td style="padding:0.2cm; text-align:center; ">
-0.39
</td>
<td style="padding:0.2cm; text-align:center; ">
-4.49 - 3.71
</td>
<td style="padding:0.2cm; text-align:center; ">
.850
</td>
</tr>
<tr>
<td style="padding:0.2cm; padding-top:0.1cm; padding-bottom:0.1cm; text-align:left; border-top:1px solid;">
Observations
</td>
<td style="padding-left:0.5em; padding-right:0.5em; border-top:1px solid;">
 
</td>
<td style="padding:0.2cm; padding-top:0.1cm; padding-bottom:0.1cm; text-align:center; border-top:1px solid;" colspan="3">
821
</td>
</tr>
<tr>
<td style="padding:0.2cm; text-align:left; padding-top:0.1cm; padding-bottom:0.1cm;">
R<sup>2</sup> / adj. R<sup>2</sup>
</td>
<td style="padding-left:0.5em; padding-right:0.5em;">
 
</td>
<td style="padding:0.2cm; text-align:center; padding-top:0.1cm; padding-bottom:0.1cm;" colspan="3">
.271 / .266
</td>
</tr>
</table>
<p>Looking at <code>str(fit$frame)</code> shows us that both variable and value label attributes are still there. Packages like <code>sjPlot</code> make use of this feature and automatically label the table output (like seen above).</p>
</div>
<div id="restore-labels-from-subsetted-data" class="section level1">
<h1>Restore labels from subsetted data</h1>
<p>The base <code>subset</code> function as well as <code>dplyr</code>’s (at least up to 0.4.1) <code>filter</code> and <code>select</code> functions drop label attributes (or vector attributes in general) when subsetting data. The <strong>sjmisc</strong>-package offers handy functions to deal with this problem: <code>copy_labels</code> and <code>remove_labels</code>.</p>
<p><code>copy_labels</code> adds back labels to a subsetted data frame based on the original data frame. And <code>remove_labels</code> removes all label attributes (this might be necessary when working with <code>dplyr</code> up to 0.4.1; <code>dplyr</code> sometimes throws an error when working with labelled data  this issue should be fixed as of <code>dplyr</code> 0.4.2 and above).</p>
<div id="losing-labels-during-subset" class="section level2">
<h2>Losing labels during subset</h2>
<pre class="sourceCode r"><code class="sourceCode r">efc.sub &lt;-<span class="st"> </span><span class="kw">subset</span>(efc, 
                  <span class="dt">subset =</span> e16sex ==<span class="st"> </span><span class="dv">1</span>, 
                  <span class="dt">select =</span> <span class="kw">c</span>(<span class="dv">4</span>:<span class="dv">8</span>))
<span class="kw">str</span>(efc.sub)
## 'data.frame':    296 obs. of  5 variables:
##  $ e17age : num  74 68 80 72 94 79 67 80 76 88 ...
##  $ e42dep : num  4 4 1 3 3 4 3 4 2 4 ...
##  $ c82cop1: num  4 3 3 4 3 3 4 2 2 3 ...
##  $ c83cop2: num  2 4 2 2 2 2 1 3 2 2 ...
##  $ c84cop3: num  4 4 1 1 1 4 2 4 2 4 ...</code></pre>
</div>
<div id="add-back-labels" class="section level2">
<h2>Add back labels</h2>
<pre class="sourceCode r"><code class="sourceCode r">efc.sub &lt;-<span class="st"> </span><span class="kw">copy_labels</span>(efc.sub, efc)
<span class="kw">str</span>(efc.sub)
## 'data.frame':    296 obs. of  5 variables:
##  $ e17age : atomic  74 68 80 72 94 79 67 80 76 88 ...
##   ..- attr(*, &quot;label&quot;)= Named chr &quot;elder' age&quot;
##   .. ..- attr(*, &quot;names&quot;)= chr &quot;e17age&quot;
##  $ e42dep : atomic  4 4 1 3 3 4 3 4 2 4 ...
##   ..- attr(*, &quot;label&quot;)= Named chr &quot;how dependent is the elder? - subjective perception of carer&quot;
##   .. ..- attr(*, &quot;names&quot;)= chr &quot;e42dep&quot;
##   ..- attr(*, &quot;labels&quot;)= Named chr  &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;4&quot;
##   .. ..- attr(*, &quot;names&quot;)= chr  &quot;independent&quot; &quot;slightly dependent&quot; &quot;moderately dependent&quot; &quot;severely dependent&quot;
##  $ c82cop1: atomic  4 3 3 4 3 3 4 2 2 3 ...
##   ..- attr(*, &quot;label&quot;)= Named chr &quot;do you feel you cope well as caregiver?&quot;
##   .. ..- attr(*, &quot;names&quot;)= chr &quot;c82cop1&quot;
##   ..- attr(*, &quot;labels&quot;)= Named chr  &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;4&quot;
##   .. ..- attr(*, &quot;names&quot;)= chr  &quot;never&quot; &quot;sometimes&quot; &quot;often&quot; &quot;always&quot;
##  $ c83cop2: atomic  2 4 2 2 2 2 1 3 2 2 ...
##   ..- attr(*, &quot;label&quot;)= Named chr &quot;do you find caregiving too demanding?&quot;
##   .. ..- attr(*, &quot;names&quot;)= chr &quot;c83cop2&quot;
##   ..- attr(*, &quot;labels&quot;)= Named chr  &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;4&quot;
##   .. ..- attr(*, &quot;names&quot;)= chr  &quot;Never&quot; &quot;Sometimes&quot; &quot;Often&quot; &quot;Always&quot;
##  $ c84cop3: atomic  4 4 1 1 1 4 2 4 2 4 ...
##   ..- attr(*, &quot;label&quot;)= Named chr &quot;does caregiving cause difficulties in your relationship with your friends?&quot;
##   .. ..- attr(*, &quot;names&quot;)= chr &quot;c84cop3&quot;
##   ..- attr(*, &quot;labels&quot;)= Named chr  &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;4&quot;
##   .. ..- attr(*, &quot;names&quot;)= chr  &quot;Never&quot; &quot;Sometimes&quot; &quot;Often&quot; &quot;Always&quot;</code></pre>
</div>
</div>
<div id="conclusion" class="section level1">
<h1>Conclusion</h1>
<p>When working with labelled data, especially when working with data sets imported from other software packages, it comes very handy to make use of the label attributes. The <strong>sjmisc</strong>-package supports this feature and offers useful functions for these tasks.</p>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
