<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>The Design Philosophy of Functions in sjmisc • sjmisc</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="The Design Philosophy of Functions in sjmisc">
<meta property="og:description" content="sjmisc">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">sjmisc</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.8.7.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/design_philosophy.html">The Design Philosophy of Functions in sjmisc</a>
    </li>
    <li>
      <a href="../articles/exploringdatasets.html">Exploring Data Sets</a>
    </li>
    <li>
      <a href="../articles/recodingvariables.html">Recoding Variables</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/strengejacke/sjmisc/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="design_philosophy_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>The Design Philosophy of Functions in sjmisc</h1>
                        <h4 data-toc-skip class="author">Daniel Lüdecke</h4>
            
            <h4 data-toc-skip class="date">2021-12-02</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/strengejacke/sjmisc/blob/HEAD/vignettes/design_philosophy.Rmd" class="external-link"><code>vignettes/design_philosophy.Rmd</code></a></small>
      <div class="hidden name"><code>design_philosophy.Rmd</code></div>

    </div>

    
    
<p>Basically, this package complements the <em>dplyr</em> package in that <em>sjmisc</em> takes over data transformation tasks on variables, like recoding, dichotomizing or grouping variables, setting and replacing missing values, etc. The data transformation functions also support labelled data.</p>
<div class="section level1">
<h1 id="the-design-of-data-transformation-functions">The design of data transformation functions<a class="anchor" aria-label="anchor" href="#the-design-of-data-transformation-functions"></a>
</h1>
<p>The design of data transformation functions in this package follows, where appropriate, the <em>tidyverse-approach</em>, with the first argument of a function always being the data (either a data frame or vector), followed by variable names that should be processed by the function. If no variables are specified as argument, the function applies to the complete data that was indicated as first function argument.</p>
<div class="section level2">
<h2 id="the-data-argument">The data-argument<a class="anchor" aria-label="anchor" href="#the-data-argument"></a>
</h2>
<p>A major difference to dplyr-functions like <code><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select()</a></code> or <code><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter()</a></code> is that the data-argument (the first argument of each function), may either be a <em>data frame</em> or a <em>vector</em>. The returned object for each function <em>equals the type of the data-argument</em>:</p>
<ul>
<li>If the data-argument is a vector, the function returns a vector.</li>
<li>If the data-argument is a data frame, the function returns a data frame.</li>
</ul>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://strengejacke.github.io/sjmisc/" class="external-link">sjmisc</a></span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">efc</span><span class="op">)</span>

<span class="co"># returns a vector</span>
<span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/rec.html">rec</a></span><span class="op">(</span><span class="va">efc</span><span class="op">$</span><span class="va">e42dep</span>, rec <span class="op">=</span> <span class="st">"1,2=1; 3,4=2"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>
<span class="co">#&gt;  num [1:908] 2 2 2 2 2 2 2 2 2 2 ...</span>
<span class="co">#&gt;  - attr(*, "label")= chr "elder's dependency"</span>

<span class="co"># returns a data frame</span>
<span class="fu"><a href="../reference/rec.html">rec</a></span><span class="op">(</span><span class="va">efc</span>, <span class="va">e42dep</span>, rec <span class="op">=</span> <span class="st">"1,2=1; 3,4=2"</span>, append <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt;   e42dep_r</span>
<span class="co">#&gt; 1        2</span>
<span class="co">#&gt; 2        2</span>
<span class="co">#&gt; 3        2</span>
<span class="co">#&gt; 4        2</span>
<span class="co">#&gt; 5        2</span>
<span class="co">#&gt; 6        2</span></code></pre></div>
<p>This design-choice is mainly due to compatibility- and convenience-reasons. It does not affect the usual “tidyverse-workflow” or when using pipe-chains.</p>
</div>
<div class="section level2">
<h2 id="the--ellipses-argument">The …-ellipses-argument<a class="anchor" aria-label="anchor" href="#the--ellipses-argument"></a>
</h2>
<p>The selection of variables specified in the <code>...</code>-ellipses-argument is powered by dplyr’s <code><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select()</a></code> and tidyselect’s <code>select_helpers()</code>. This means, you can use existing functions like <code>:</code> to select a range of variables, or also use tidyselect’s <code>select_helpers</code>, like <code><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">contains()</a></code> or <code><a href="https://tidyselect.r-lib.org/reference/one_of.html" class="external-link">one_of()</a></code>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># select all variables with "cop" in their names, and also</span>
<span class="co"># the range from c161sex to c175empl</span>
<span class="fu"><a href="../reference/rec.html">rec</a></span><span class="op">(</span>
  <span class="va">efc</span>, <span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">contains</a></span><span class="op">(</span><span class="st">"cop"</span><span class="op">)</span>, <span class="va">c161sex</span><span class="op">:</span><span class="va">c175empl</span>, 
  rec <span class="op">=</span> <span class="st">"0,1=0; else=1"</span>, 
  append <span class="op">=</span> <span class="cn">FALSE</span>
<span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt;   c82cop1_r c83cop2_r c84cop3_r c85cop4_r c86cop5_r c87cop6_r c88cop7_r</span>
<span class="co">#&gt; 1         1         1         1         1         0         0         1</span>
<span class="co">#&gt; 2         1         1         1         1         1         0         1</span>
<span class="co">#&gt; 3         1         1         0         1         0         0         0</span>
<span class="co">#&gt; 4         1         0         1         0         0         0         0</span>
<span class="co">#&gt; 5         1         1         0         1         1         1         0</span>
<span class="co">#&gt; 6         1         1         1         1         1         1         1</span>
<span class="co">#&gt;   c89cop8_r c90cop9_r c161sex_r c172code_r c175empl_r</span>
<span class="co">#&gt; 1         1         1         1          1          0</span>
<span class="co">#&gt; 2         1         1         1          1          0</span>
<span class="co">#&gt; 3         1         1         0          0          0</span>
<span class="co">#&gt; 4         1         1         0          1          0</span>
<span class="co">#&gt; 5         1         1         1          1          0</span>
<span class="co">#&gt; 6         0         0         0          1          0</span>

<span class="co"># center all variables with "age" in name, variable c12hour</span>
<span class="co"># and all variables from column 19 to 21</span>
<span class="fu"><a href="../reference/std.html">center</a></span><span class="op">(</span><span class="va">efc</span>, <span class="va">c12hour</span>, <span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">contains</a></span><span class="op">(</span><span class="st">"age"</span><span class="op">)</span>, <span class="fl">19</span><span class="op">:</span><span class="fl">21</span>, append <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt;   c12hour_c   e17age_c  c160age_c barthtot_c  neg_c_7_c pos_v_4_c</span>
<span class="co">#&gt; 1 -26.39911   3.878788  2.5371809  10.453001  0.1502242 -0.476731</span>
<span class="co">#&gt; 2 105.60089   8.878788  0.5371809  10.453001  8.1502242 -1.476731</span>
<span class="co">#&gt; 3  27.60089   2.878788 26.5371809 -29.546999 -0.8497758  0.523269</span>
<span class="co">#&gt; 4 125.60089 -12.121212 15.5371809 -64.546999 -1.8497758  2.523269</span>
<span class="co">#&gt; 5 125.60089   4.878788 -6.4628191 -39.546999  0.1502242  2.523269</span>
<span class="co">#&gt; 6 -26.39911   5.878788  2.5371809  -4.546999  7.1502242 -3.476731</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="the-function-types">The function-types<a class="anchor" aria-label="anchor" href="#the-function-types"></a>
</h2>
<p>There are two types of function designs:</p>
<div class="section level3">
<h3 id="coercingconverting-functions">coercing/converting functions<a class="anchor" aria-label="anchor" href="#coercingconverting-functions"></a>
</h3>
<p>Functions like <code><a href="https://strengejacke.github.io/sjlabelled/reference/as_factor.html" class="external-link">to_factor()</a></code> or <code><a href="https://strengejacke.github.io/sjlabelled/reference/as_label.html" class="external-link">to_label()</a></code>, which convert variables into other types or add additional information like variable or value labels as attribute, typically <em>return the complete data frame</em> that was given as first argument <em>without any new variables</em>. The variables specified in the <code>...</code>-ellipses argument are converted (overwritten), all other variables remain unchanged.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="va">efc</span><span class="op">[</span>, <span class="fl">3</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span>

<span class="va">x</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; 'data.frame':    908 obs. of  3 variables:</span>
<span class="co">#&gt;  $ e16sex: num  2 2 2 2 2 2 1 2 2 2 ...</span>
<span class="co">#&gt;   ..- attr(*, "label")= chr "elder's gender"</span>
<span class="co">#&gt;   ..- attr(*, "labels")= Named num [1:2] 1 2</span>
<span class="co">#&gt;   .. ..- attr(*, "names")= chr [1:2] "male" "female"</span>
<span class="co">#&gt;  $ e17age: num  83 88 82 67 84 85 74 87 79 83 ...</span>
<span class="co">#&gt;   ..- attr(*, "label")= chr "elder' age"</span>
<span class="co">#&gt;  $ e42dep: num  3 3 3 4 4 4 4 4 4 4 ...</span>
<span class="co">#&gt;   ..- attr(*, "label")= chr "elder's dependency"</span>
<span class="co">#&gt;   ..- attr(*, "labels")= Named num [1:4] 1 2 3 4</span>
<span class="co">#&gt;   .. ..- attr(*, "names")= chr [1:4] "independent" "slightly dependent" "moderately dependent" "severely dependent"</span>

<span class="fu"><a href="https://strengejacke.github.io/sjlabelled/reference/as_factor.html" class="external-link">to_factor</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">e42dep</span>, <span class="va">e16sex</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; 'data.frame':    908 obs. of  3 variables:</span>
<span class="co">#&gt;  $ e16sex: Factor w/ 2 levels "1","2": 2 2 2 2 2 2 1 2 2 2 ...</span>
<span class="co">#&gt;   ..- attr(*, "labels")= Named num [1:2] 1 2</span>
<span class="co">#&gt;   .. ..- attr(*, "names")= chr [1:2] "male" "female"</span>
<span class="co">#&gt;   ..- attr(*, "label")= chr "elder's gender"</span>
<span class="co">#&gt;  $ e17age: num  83 88 82 67 84 85 74 87 79 83 ...</span>
<span class="co">#&gt;   ..- attr(*, "label")= chr "elder' age"</span>
<span class="co">#&gt;  $ e42dep: Factor w/ 4 levels "1","2","3","4": 3 3 3 4 4 4 4 4 4 4 ...</span>
<span class="co">#&gt;   ..- attr(*, "labels")= Named num [1:4] 1 2 3 4</span>
<span class="co">#&gt;   .. ..- attr(*, "names")= chr [1:4] "independent" "slightly dependent" "moderately dependent" "severely dependent"</span>
<span class="co">#&gt;   ..- attr(*, "label")= chr "elder's dependency"</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="transformationrecoding-functions">transformation/recoding functions<a class="anchor" aria-label="anchor" href="#transformationrecoding-functions"></a>
</h3>
<p>Functions like <code><a href="../reference/rec.html">rec()</a></code> or <code><a href="../reference/dicho.html">dicho()</a></code>, which transform or recode variables, by default add <em>the transformed or recoded variables</em> to the data frame, so they return the new variables <em>and</em> the original data as combined data frame. To return <em>only the transformed and recoded variables</em> specified in the <code>...</code>-ellipses argument, use argument <code>append = FALSE</code>.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># complete data, including new columns</span>
<span class="fu"><a href="../reference/rec.html">rec</a></span><span class="op">(</span><span class="va">efc</span>, <span class="va">c82cop1</span>, <span class="va">c83cop2</span>, rec <span class="op">=</span> <span class="st">"1,2=0; 3:4=2"</span>, append <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt;   c12hour e15relat e16sex e17age e42dep c82cop1 c83cop2 c84cop3 c85cop4 c86cop5</span>
<span class="co">#&gt; 1      16        2      2     83      3       3       2       2       2       1</span>
<span class="co">#&gt; 2     148        2      2     88      3       3       3       3       3       4</span>
<span class="co">#&gt; 3      70        1      2     82      3       2       2       1       4       1</span>
<span class="co">#&gt; 4     168        1      2     67      4       4       1       3       1       1</span>
<span class="co">#&gt; 5     168        2      2     84      4       3       2       1       2       2</span>
<span class="co">#&gt; 6      16        2      2     85      4       2       2       3       3       3</span>
<span class="co">#&gt;   c87cop6 c88cop7 c89cop8 c90cop9 c160age c161sex c172code c175empl barthtot</span>
<span class="co">#&gt; 1       1       2       3       3      56       2        2        1       75</span>
<span class="co">#&gt; 2       1       3       2       2      54       2        2        1       75</span>
<span class="co">#&gt; 3       1       1       4       3      80       1        1        0       35</span>
<span class="co">#&gt; 4       1       1       2       4      69       1        2        0        0</span>
<span class="co">#&gt; 5       2       1       4       4      47       2        2        0       25</span>
<span class="co">#&gt; 6       2       2       1       1      56       1        2        1       60</span>
<span class="co">#&gt;   neg_c_7 pos_v_4 quol_5 resttotn tot_sc_e n4pstu nur_pst c82cop1_r c83cop2_r</span>
<span class="co">#&gt; 1      12      12     14        0        4      0      NA         2         0</span>
<span class="co">#&gt; 2      20      11     10        4        0      0      NA         2         2</span>
<span class="co">#&gt; 3      11      13      7        0        1      2       2         0         0</span>
<span class="co">#&gt; 4      10      15     12        2        0      3       3         2         0</span>
<span class="co">#&gt; 5      12      15     19        2        1      2       2         2         0</span>
<span class="co">#&gt; 6      19       9      8        1        3      2       2         0         0</span>

<span class="co"># only new columns</span>
<span class="fu"><a href="../reference/rec.html">rec</a></span><span class="op">(</span><span class="va">efc</span>, <span class="va">c82cop1</span>, <span class="va">c83cop2</span>, rec <span class="op">=</span> <span class="st">"1,2=0; 3:4=2"</span>, append <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt;   c82cop1_r c83cop2_r</span>
<span class="co">#&gt; 1         2         0</span>
<span class="co">#&gt; 2         2         2</span>
<span class="co">#&gt; 3         0         0</span>
<span class="co">#&gt; 4         2         0</span>
<span class="co">#&gt; 5         2         0</span>
<span class="co">#&gt; 6         0         0</span></code></pre></div>
<p>These variables usually get a suffix, so you can bind these variables as new columns to a data frame, for instance with <code><a href="../reference/add_columns.html">add_columns()</a></code>. The function <code><a href="../reference/add_columns.html">add_columns()</a></code> is useful if you want to bind/add columns within a pipe-chain <em>to the end</em> of a data frame.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">efc</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu"><a href="../reference/rec.html">rec</a></span><span class="op">(</span><span class="va">c82cop1</span>, <span class="va">c83cop2</span>, rec <span class="op">=</span> <span class="st">"1,2=0; 3:4=2"</span>, append <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu"><a href="../reference/add_columns.html">add_columns</a></span><span class="op">(</span><span class="va">efc</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt;   c12hour e15relat e16sex e17age e42dep c82cop1 c83cop2 c84cop3 c85cop4 c86cop5</span>
<span class="co">#&gt; 1      16        2      2     83      3       3       2       2       2       1</span>
<span class="co">#&gt; 2     148        2      2     88      3       3       3       3       3       4</span>
<span class="co">#&gt; 3      70        1      2     82      3       2       2       1       4       1</span>
<span class="co">#&gt; 4     168        1      2     67      4       4       1       3       1       1</span>
<span class="co">#&gt; 5     168        2      2     84      4       3       2       1       2       2</span>
<span class="co">#&gt; 6      16        2      2     85      4       2       2       3       3       3</span>
<span class="co">#&gt;   c87cop6 c88cop7 c89cop8 c90cop9 c160age c161sex c172code c175empl barthtot</span>
<span class="co">#&gt; 1       1       2       3       3      56       2        2        1       75</span>
<span class="co">#&gt; 2       1       3       2       2      54       2        2        1       75</span>
<span class="co">#&gt; 3       1       1       4       3      80       1        1        0       35</span>
<span class="co">#&gt; 4       1       1       2       4      69       1        2        0        0</span>
<span class="co">#&gt; 5       2       1       4       4      47       2        2        0       25</span>
<span class="co">#&gt; 6       2       2       1       1      56       1        2        1       60</span>
<span class="co">#&gt;   neg_c_7 pos_v_4 quol_5 resttotn tot_sc_e n4pstu nur_pst c82cop1_r c83cop2_r</span>
<span class="co">#&gt; 1      12      12     14        0        4      0      NA         2         0</span>
<span class="co">#&gt; 2      20      11     10        4        0      0      NA         2         2</span>
<span class="co">#&gt; 3      11      13      7        0        1      2       2         0         0</span>
<span class="co">#&gt; 4      10      15     12        2        0      3       3         2         0</span>
<span class="co">#&gt; 5      12      15     19        2        1      2       2         2         0</span>
<span class="co">#&gt; 6      19       9      8        1        3      2       2         0         0</span></code></pre></div>
<p>If <code>append = TRUE</code> and <code>suffix = ""</code>, recoded variables will replace (overwrite) existing variables.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># complete data, existing columns c82cop1 and c83cop2 are replaced</span>
<span class="fu"><a href="../reference/rec.html">rec</a></span><span class="op">(</span><span class="va">efc</span>, <span class="va">c82cop1</span>, <span class="va">c83cop2</span>, rec <span class="op">=</span> <span class="st">"1,2=0; 3:4=2"</span>, append <span class="op">=</span> <span class="cn">TRUE</span>, suffix <span class="op">=</span> <span class="st">""</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt;   c12hour e15relat e16sex e17age e42dep c82cop1 c83cop2 c84cop3 c85cop4 c86cop5</span>
<span class="co">#&gt; 1      16        2      2     83      3       2       0       2       2       1</span>
<span class="co">#&gt; 2     148        2      2     88      3       2       2       3       3       4</span>
<span class="co">#&gt; 3      70        1      2     82      3       0       0       1       4       1</span>
<span class="co">#&gt; 4     168        1      2     67      4       2       0       3       1       1</span>
<span class="co">#&gt; 5     168        2      2     84      4       2       0       1       2       2</span>
<span class="co">#&gt; 6      16        2      2     85      4       0       0       3       3       3</span>
<span class="co">#&gt;   c87cop6 c88cop7 c89cop8 c90cop9 c160age c161sex c172code c175empl barthtot</span>
<span class="co">#&gt; 1       1       2       3       3      56       2        2        1       75</span>
<span class="co">#&gt; 2       1       3       2       2      54       2        2        1       75</span>
<span class="co">#&gt; 3       1       1       4       3      80       1        1        0       35</span>
<span class="co">#&gt; 4       1       1       2       4      69       1        2        0        0</span>
<span class="co">#&gt; 5       2       1       4       4      47       2        2        0       25</span>
<span class="co">#&gt; 6       2       2       1       1      56       1        2        1       60</span>
<span class="co">#&gt;   neg_c_7 pos_v_4 quol_5 resttotn tot_sc_e n4pstu nur_pst</span>
<span class="co">#&gt; 1      12      12     14        0        4      0      NA</span>
<span class="co">#&gt; 2      20      11     10        4        0      0      NA</span>
<span class="co">#&gt; 3      11      13      7        0        1      2       2</span>
<span class="co">#&gt; 4      10      15     12        2        0      3       3</span>
<span class="co">#&gt; 5      12      15     19        2        1      2       2</span>
<span class="co">#&gt; 6      19       9      8        1        3      2       2</span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="sjmisc-and-dplyr">sjmisc and dplyr<a class="anchor" aria-label="anchor" href="#sjmisc-and-dplyr"></a>
</h2>
<p>The functions of <strong>sjmisc</strong> are designed to work together seamlessly with other packages from the tidyverse, like <strong>dplyr</strong>. For instance, you can use the functions from <strong>sjmisc</strong> both within a pipe-worklflow to manipulate data frames, or to create new variables with <code><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate()</a></code>:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">efc</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">c82cop1</span>, <span class="va">c83cop2</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu"><a href="../reference/rec.html">rec</a></span><span class="op">(</span>rec <span class="op">=</span> <span class="st">"1,2=0; 3:4=2"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt;   c82cop1 c83cop2 c82cop1_r c83cop2_r</span>
<span class="co">#&gt; 1       3       2         2         0</span>
<span class="co">#&gt; 2       3       3         2         2</span>
<span class="co">#&gt; 3       2       2         0         0</span>
<span class="co">#&gt; 4       4       1         2         0</span>
<span class="co">#&gt; 5       3       2         2         0</span>
<span class="co">#&gt; 6       2       2         0         0</span>

<span class="va">efc</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">c82cop1</span>, <span class="va">c83cop2</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>
    c82cop1_dicho <span class="op">=</span> <span class="fu"><a href="../reference/rec.html">rec</a></span><span class="op">(</span><span class="va">c82cop1</span>, rec <span class="op">=</span> <span class="st">"1,2=0; 3:4=2"</span><span class="op">)</span>,
    c83cop2_dicho <span class="op">=</span> <span class="fu"><a href="../reference/rec.html">rec</a></span><span class="op">(</span><span class="va">c83cop2</span>, rec <span class="op">=</span> <span class="st">"1,2=0; 3:4=2"</span><span class="op">)</span>
  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt;   c82cop1 c83cop2 c82cop1_dicho c83cop2_dicho</span>
<span class="co">#&gt; 1       3       2             2             0</span>
<span class="co">#&gt; 2       3       3             2             2</span>
<span class="co">#&gt; 3       2       2             0             0</span>
<span class="co">#&gt; 4       4       1             2             0</span>
<span class="co">#&gt; 5       3       2             2             0</span>
<span class="co">#&gt; 6       2       2             0             0</span></code></pre></div>
<p>This makes it easy to adapt the <strong>sjmisc</strong> functions to your own workflow.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by <a href="https://github.com/strengejacke" class="external-link">Daniel Lüdecke</a>.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.0.9000.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
