<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Recoding Variables • sjmisc</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Recoding Variables">
<meta property="og:description" content="sjmisc">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">sjmisc</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.8.6</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/design_philosophy.html">The Design Philosophy of Functions in sjmisc</a>
    </li>
    <li>
      <a href="../articles/exploringdatasets.html">Exploring Data Sets</a>
    </li>
    <li>
      <a href="../articles/recodingvariables.html">Recoding Variables</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/strengejacke/sjmisc/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="recodingvariables_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Recoding Variables</h1>
                        <h4 data-toc-skip class="author">Daniel Lüdecke</h4>
            
            <h4 data-toc-skip class="date">2021-04-29</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/strengejacke/sjmisc/blob/master/vignettes/recodingvariables.Rmd" class="external-link"><code>vignettes/recodingvariables.Rmd</code></a></small>
      <div class="hidden name"><code>recodingvariables.Rmd</code></div>

    </div>

    
    
<p>Data preparation is a common task in research, which usually takes the most amount of time in the analytical process. <strong>sjmisc</strong> is a package with special focus on transformation of <em>variables</em> that fits into the workflow and design-philosophy of the so-called “tidyverse”.</p>
<p>Basically, this package complements the <strong>dplyr</strong> package in that <strong>sjmisc</strong> takes over data transformation tasks on variables, like recoding, dichotomizing or grouping variables, setting and replacing missing values, etc. A distinctive feature of <strong>sjmisc</strong> is the support for labelled data, which is especially useful for users who often work with data sets from other statistical software packages like <em>SPSS</em> or <em>Stata</em>.</p>
<p>This vignette demonstrate some of the important recoding-functions in <strong>sjmisc</strong>. The examples are based on data from the EUROFAMCARE project, a survey on the situation of family carers of older people in Europe. The sample data set <code>efc</code> is part of this package.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://strengejacke.github.io/sjmisc/" class="external-link">sjmisc</a></span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">efc</span><span class="op">)</span></code></pre></div>
<p>To show the results after recoding variables, the <code><a href="../reference/frq.html">frq()</a></code> function is used to print frequency tables.</p>
<div id="dichotomization-dividing-variables-into-two-groups" class="section level2">
<h2 class="hasAnchor">
<a href="#dichotomization-dividing-variables-into-two-groups" class="anchor" aria-hidden="true"></a>Dichotomization: dividing variables into two groups</h2>
<p><code><a href="../reference/dicho.html">dicho()</a></code> dichotomizes variables into “dummy” variables (with 0/1 coding). Dichotomization is either done by median, mean or a specific value (see argument <code>dich.by</code>).</p>
<p>Like all recoding-functions in <strong>sjmisc</strong>, <code><a href="../reference/dicho.html">dicho()</a></code> returns the complete data frame <em>including</em> the recoded variables, if the first argument is a <code>data.frame</code>. If the first argument is a vector, only the recoded variable is returned. See <a href="design_philosophy.html">this vignette</a> for details about the function-design.</p>
<p>If <code><a href="../reference/dicho.html">dicho()</a></code> returns a data frame, the recoded variables have the same name as the original variable, including a suffix <code>_d</code>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># age, ranged from 65 to 104, in this output</span>
<span class="co"># grouped to get a shorter table</span>
<span class="fu"><a href="../reference/frq.html">frq</a></span><span class="op">(</span><span class="va">efc</span>, <span class="va">e17age</span>, auto.grp <span class="op">=</span> <span class="fl">5</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; elder' age (e17age) &lt;numeric&gt;</span>
<span class="co">#&gt; # total N=908  valid N=891  mean=79.12  sd=8.09</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Value |  Label |   N | Raw % | Valid % | Cum. %</span>
<span class="co">#&gt; -----------------------------------------------</span>
<span class="co">#&gt;     1 |  65-72 | 212 | 23.35 |   23.79 |  23.79</span>
<span class="co">#&gt;     2 |  73-80 | 277 | 30.51 |   31.09 |  54.88</span>
<span class="co">#&gt;     3 |  81-88 | 270 | 29.74 |   30.30 |  85.19</span>
<span class="co">#&gt;     4 |  89-96 | 124 | 13.66 |   13.92 |  99.10</span>
<span class="co">#&gt;     5 | 97-104 |   8 |  0.88 |    0.90 | 100.00</span>
<span class="co">#&gt;  &lt;NA&gt; |   &lt;NA&gt; |  17 |  1.87 |    &lt;NA&gt; |   &lt;NA&gt;</span>

<span class="co"># splitting is done at the median by default:</span>
<span class="fu"><a href="https://rdrr.io/r/stats/median.html" class="external-link">median</a></span><span class="op">(</span><span class="va">efc</span><span class="op">$</span><span class="va">e17age</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="co">#&gt; [1] 79</span>

<span class="co"># the recoded variable is now named "e17age_d"</span>
<span class="va">efc</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dicho.html">dicho</a></span><span class="op">(</span><span class="va">efc</span>, <span class="va">e17age</span><span class="op">)</span>
<span class="fu"><a href="../reference/frq.html">frq</a></span><span class="op">(</span><span class="va">efc</span>, <span class="va">e17age_d</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; elder' age (e17age_d) &lt;categorical&gt;</span>
<span class="co">#&gt; # total N=908  valid N=891  mean=0.49  sd=0.50</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Value |   N | Raw % | Valid % | Cum. %</span>
<span class="co">#&gt; --------------------------------------</span>
<span class="co">#&gt;     0 | 455 | 50.11 |   51.07 |  51.07</span>
<span class="co">#&gt;     1 | 436 | 48.02 |   48.93 | 100.00</span>
<span class="co">#&gt;  &lt;NA&gt; |  17 |  1.87 |    &lt;NA&gt; |   &lt;NA&gt;</span></code></pre></div>
<p>As <code><a href="../reference/dicho.html">dicho()</a></code>, like all recoding-functions, supports <a href="https://cran.r-project.org/package=sjlabelled" class="external-link">labelled data</a>, the variable preserves it variable label (but not the value labels). You can directly define value labels inside the function:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dicho.html">dicho</a></span><span class="op">(</span><span class="va">efc</span><span class="op">$</span><span class="va">e17age</span>, val.labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"young age"</span>, <span class="st">"old age"</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="../reference/frq.html">frq</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; elder' age (x) &lt;categorical&gt;</span>
<span class="co">#&gt; # total N=908  valid N=891  mean=0.49  sd=0.50</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Value |     Label |   N | Raw % | Valid % | Cum. %</span>
<span class="co">#&gt; --------------------------------------------------</span>
<span class="co">#&gt;     0 | young age | 455 | 50.11 |   51.07 |  51.07</span>
<span class="co">#&gt;     1 |   old age | 436 | 48.02 |   48.93 | 100.00</span>
<span class="co">#&gt;  &lt;NA&gt; |      &lt;NA&gt; |  17 |  1.87 |    &lt;NA&gt; |   &lt;NA&gt;</span></code></pre></div>
<p>To split a variable at a different value, use the <code>dich.by</code>-argment. The value specified in <code>dich.by</code> is <em>inclusive</em>, i.e. all values from lowest to and including <code>dich.by</code> are recoded into the lower category, while all values <em>above</em> <code>dich.by</code> are recoded into the higher category.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># split at upper quartile</span>
<span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dicho.html">dicho</a></span><span class="op">(</span>
  <span class="va">efc</span><span class="op">$</span><span class="va">e17age</span>, 
  dich.by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/quantile.html" class="external-link">quantile</a></span><span class="op">(</span><span class="va">efc</span><span class="op">$</span><span class="va">e17age</span>, probs <span class="op">=</span> <span class="fl">.75</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>, 
  val.labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"younger three quarters"</span>, <span class="st">"oldest quarter"</span><span class="op">)</span>
<span class="op">)</span>
<span class="fu"><a href="../reference/frq.html">frq</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; elder' age (x) &lt;categorical&gt;</span>
<span class="co">#&gt; # total N=908  valid N=891  mean=0.24  sd=0.43</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Value |                  Label |   N | Raw % | Valid % | Cum. %</span>
<span class="co">#&gt; ---------------------------------------------------------------</span>
<span class="co">#&gt;     0 | younger three quarters | 678 | 74.67 |   76.09 |  76.09</span>
<span class="co">#&gt;     1 |         oldest quarter | 213 | 23.46 |   23.91 | 100.00</span>
<span class="co">#&gt;  &lt;NA&gt; |                   &lt;NA&gt; |  17 |  1.87 |    &lt;NA&gt; |   &lt;NA&gt;</span></code></pre></div>
<p>Since the distribution of values in a dataset may differ for different subgroups, all recoding-functions also work on grouped data frames. In the following example, first, the age-variable <code>e17age</code> is dichotomized at the median. Then, the data is grouped by gender (<code>c161sex</code>) and the dichotomization is done for each subgroup, i.e. it once relates to the median age in the subgroup of female, and once to the median age in the subgroup of male family carers.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">efc</span><span class="op">)</span>
<span class="va">x1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dicho.html">dicho</a></span><span class="op">(</span><span class="va">efc</span><span class="op">$</span><span class="va">e17age</span><span class="op">)</span>

<span class="va">x2</span> <span class="op">&lt;-</span> <span class="va">efc</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">c161sex</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu"><a href="../reference/dicho.html">dicho</a></span><span class="op">(</span><span class="va">e17age</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html" class="external-link">pull</a></span><span class="op">(</span><span class="va">e17age_d</span><span class="op">)</span>

<span class="co"># median age of total sample</span>
<span class="fu"><a href="../reference/frq.html">frq</a></span><span class="op">(</span><span class="va">x1</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; elder' age (x) &lt;categorical&gt;</span>
<span class="co">#&gt; # total N=908  valid N=891  mean=0.49  sd=0.50</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Value |   N | Raw % | Valid % | Cum. %</span>
<span class="co">#&gt; --------------------------------------</span>
<span class="co">#&gt;     0 | 455 | 50.11 |   51.07 |  51.07</span>
<span class="co">#&gt;     1 | 436 | 48.02 |   48.93 | 100.00</span>
<span class="co">#&gt;  &lt;NA&gt; |  17 |  1.87 |    &lt;NA&gt; |   &lt;NA&gt;</span>

<span class="co"># median age of total sample, with median-split applied</span>
<span class="co"># to distibution of age by subgroups of gender</span>
<span class="fu"><a href="../reference/frq.html">frq</a></span><span class="op">(</span><span class="va">x2</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; elder' age (x) &lt;numeric&gt;</span>
<span class="co">#&gt; # total N=908  valid N=891  mean=1.50  sd=0.50</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Value |   N | Raw % | Valid % | Cum. %</span>
<span class="co">#&gt; --------------------------------------</span>
<span class="co">#&gt;     1 | 449 | 49.45 |   50.39 |  50.39</span>
<span class="co">#&gt;     2 | 442 | 48.68 |   49.61 | 100.00</span>
<span class="co">#&gt;  &lt;NA&gt; |  17 |  1.87 |    &lt;NA&gt; |   &lt;NA&gt;</span></code></pre></div>
</div>
<div id="splitting-variables-into-several-groups" class="section level2">
<h2 class="hasAnchor">
<a href="#splitting-variables-into-several-groups" class="anchor" aria-hidden="true"></a>Splitting variables into several groups</h2>
<p><code><a href="../reference/split_var.html">split_var()</a></code> recodes numeric variables into equal sized groups, i.e. a variable is cut into a smaller number of groups at specific cut points. The amount of groups depends on the <code>n</code>-argument and cuts a variable into <code>n</code> quantiles.</p>
<p>Similar to <code><a href="../reference/dicho.html">dicho()</a></code>, if the first argument in <code><a href="../reference/split_var.html">split_var()</a></code> is a data frame, the complete data frame including the new recoded variable(s), with suffix <code>_g</code>, is returned.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/split_var.html">split_var</a></span><span class="op">(</span><span class="va">efc</span><span class="op">$</span><span class="va">e17age</span>, n <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>
<span class="fu"><a href="../reference/frq.html">frq</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; elder' age (x) &lt;categorical&gt;</span>
<span class="co">#&gt; # total N=908  valid N=891  mean=2.05  sd=0.82</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Value |   N | Raw % | Valid % | Cum. %</span>
<span class="co">#&gt; --------------------------------------</span>
<span class="co">#&gt;     1 | 274 | 30.18 |   30.75 |  30.75</span>
<span class="co">#&gt;     2 | 294 | 32.38 |   33.00 |  63.75</span>
<span class="co">#&gt;     3 | 323 | 35.57 |   36.25 | 100.00</span>
<span class="co">#&gt;  &lt;NA&gt; |  17 |  1.87 |    &lt;NA&gt; |   &lt;NA&gt;</span></code></pre></div>
<p>Unlike dplyr’s <code><a href="https://dplyr.tidyverse.org/reference/ranking.html" class="external-link">ntile()</a></code>, <code><a href="../reference/split_var.html">split_var()</a></code> never splits a value into two different categories, i.e. you always get a “clean” separation of original categories. In other words: cases that have identical values in a variable will always be recoded into the same group. The following example demonstrates the differences:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/ranking.html" class="external-link">ntile</a></span><span class="op">(</span><span class="va">efc</span><span class="op">$</span><span class="va">neg_c_7</span>, n <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>
<span class="co"># for some cases, value "10" is recoded into category "1",</span>
<span class="co"># for other cases into category "2". Same is true for value "13"</span>
<span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">efc</span><span class="op">$</span><span class="va">neg_c_7</span>, <span class="va">x</span><span class="op">)</span>
<span class="co">#&gt;     x</span>
<span class="co">#&gt;        1   2   3</span>
<span class="co">#&gt;   7   75   0   0</span>
<span class="co">#&gt;   8   99   0   0</span>
<span class="co">#&gt;   9  106   0   0</span>
<span class="co">#&gt;   10  18 102   0</span>
<span class="co">#&gt;   11   0  96   0</span>
<span class="co">#&gt;   12   0  85   0</span>
<span class="co">#&gt;   13   0  14  50</span>
<span class="co">#&gt;   14   0   0  54</span>
<span class="co">#&gt;   15   0   0  45</span>
<span class="co">#&gt;   16   0   0  30</span>
<span class="co">#&gt;   17   0   0  35</span>
<span class="co">#&gt;   18   0   0  26</span>
<span class="co">#&gt;   19   0   0  16</span>
<span class="co">#&gt;   20   0   0  16</span>
<span class="co">#&gt;   21   0   0   2</span>
<span class="co">#&gt;   22   0   0   7</span>
<span class="co">#&gt;   23   0   0   4</span>
<span class="co">#&gt;   24   0   0   3</span>
<span class="co">#&gt;   25   0   0   6</span>
<span class="co">#&gt;   27   0   0   1</span>
<span class="co">#&gt;   28   0   0   2</span>

<span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/split_var.html">split_var</a></span><span class="op">(</span><span class="va">efc</span><span class="op">$</span><span class="va">neg_c_7</span>, n <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>
<span class="co"># no separation of cases with identical values.</span>
<span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">efc</span><span class="op">$</span><span class="va">neg_c_7</span>, <span class="va">x</span><span class="op">)</span>
<span class="co">#&gt;     x</span>
<span class="co">#&gt;        1   2   3</span>
<span class="co">#&gt;   7   75   0   0</span>
<span class="co">#&gt;   8   99   0   0</span>
<span class="co">#&gt;   9  106   0   0</span>
<span class="co">#&gt;   10   0 120   0</span>
<span class="co">#&gt;   11   0  96   0</span>
<span class="co">#&gt;   12   0  85   0</span>
<span class="co">#&gt;   13   0   0  64</span>
<span class="co">#&gt;   14   0   0  54</span>
<span class="co">#&gt;   15   0   0  45</span>
<span class="co">#&gt;   16   0   0  30</span>
<span class="co">#&gt;   17   0   0  35</span>
<span class="co">#&gt;   18   0   0  26</span>
<span class="co">#&gt;   19   0   0  16</span>
<span class="co">#&gt;   20   0   0  16</span>
<span class="co">#&gt;   21   0   0   2</span>
<span class="co">#&gt;   22   0   0   7</span>
<span class="co">#&gt;   23   0   0   4</span>
<span class="co">#&gt;   24   0   0   3</span>
<span class="co">#&gt;   25   0   0   6</span>
<span class="co">#&gt;   27   0   0   1</span>
<span class="co">#&gt;   28   0   0   2</span></code></pre></div>
<p><code><a href="../reference/split_var.html">split_var()</a></code>, unlike <code><a href="https://dplyr.tidyverse.org/reference/ranking.html" class="external-link">ntile()</a></code>, does therefor not always return exactly equal-sized groups:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/ranking.html" class="external-link">ntile</a></span><span class="op">(</span><span class="va">efc</span><span class="op">$</span><span class="va">neg_c_7</span>, n <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>
<span class="fu"><a href="../reference/frq.html">frq</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; x &lt;integer&gt;</span>
<span class="co">#&gt; # total N=908  valid N=892  mean=2.00  sd=0.82</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Value |   N | Raw % | Valid % | Cum. %</span>
<span class="co">#&gt; --------------------------------------</span>
<span class="co">#&gt;     1 | 298 | 32.82 |   33.41 |  33.41</span>
<span class="co">#&gt;     2 | 297 | 32.71 |   33.30 |  66.70</span>
<span class="co">#&gt;     3 | 297 | 32.71 |   33.30 | 100.00</span>
<span class="co">#&gt;  &lt;NA&gt; |  16 |  1.76 |    &lt;NA&gt; |   &lt;NA&gt;</span>

<span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/split_var.html">split_var</a></span><span class="op">(</span><span class="va">efc</span><span class="op">$</span><span class="va">neg_c_7</span>, n <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>
<span class="fu"><a href="../reference/frq.html">frq</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Negative impact with 7 items (x) &lt;categorical&gt;</span>
<span class="co">#&gt; # total N=908  valid N=892  mean=2.03  sd=0.81</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Value |   N | Raw % | Valid % | Cum. %</span>
<span class="co">#&gt; --------------------------------------</span>
<span class="co">#&gt;     1 | 280 | 30.84 |   31.39 |  31.39</span>
<span class="co">#&gt;     2 | 301 | 33.15 |   33.74 |  65.13</span>
<span class="co">#&gt;     3 | 311 | 34.25 |   34.87 | 100.00</span>
<span class="co">#&gt;  &lt;NA&gt; |  16 |  1.76 |    &lt;NA&gt; |   &lt;NA&gt;</span></code></pre></div>
</div>
<div id="recode-variables-into-equal-ranged-groups" class="section level2">
<h2 class="hasAnchor">
<a href="#recode-variables-into-equal-ranged-groups" class="anchor" aria-hidden="true"></a>Recode variables into equal-ranged groups</h2>
<p>With <code><a href="../reference/group_var.html">group_var()</a></code>, variables can be grouped into equal ranged categories, i.e. a variable is cut into a smaller number of groups, where each group has the same value range. <code><a href="../reference/group_var.html">group_labels()</a></code> creates the related value labels.</p>
<p>The range of the groups is defined in the <code>size</code>-argument. At the same time, the <code>size</code>-argument also defines the <em>lower bound</em> of one of the groups.</p>
<p>For instance, if the lowest value of a variable is 1 and the maximum is 10, and <code>size  = 5</code>, then</p>
<ol style="list-style-type: lower-alpha">
<li>each group will have a range of 5, and</li>
<li>one of the groups will start with the value 5.</li>
</ol>
<p>This means, that an equal-ranged grouping will define groups from <em>0 to 4</em>, <em>5 to 9</em> and <em>10-14</em>. Each of these groups has a range of 5, and one of the groups starts with the value 5.</p>
<p>The group assignment becomes clearer, when <code><a href="../reference/group_var.html">group_labels()</a></code> is used in parallel:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span>
<span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">150</span>, <span class="fl">1</span>, <span class="fl">10</span><span class="op">)</span><span class="op">)</span>

<span class="fu"><a href="../reference/frq.html">frq</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; x &lt;numeric&gt;</span>
<span class="co">#&gt; # total N=150  valid N=150  mean=5.52  sd=2.63</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Value |  N | Raw % | Valid % | Cum. %</span>
<span class="co">#&gt; -------------------------------------</span>
<span class="co">#&gt;     1 |  6 |  4.00 |    4.00 |   4.00</span>
<span class="co">#&gt;     2 | 19 | 12.67 |   12.67 |  16.67</span>
<span class="co">#&gt;     3 | 16 | 10.67 |   10.67 |  27.33</span>
<span class="co">#&gt;     4 | 17 | 11.33 |   11.33 |  38.67</span>
<span class="co">#&gt;     5 | 20 | 13.33 |   13.33 |  52.00</span>
<span class="co">#&gt;     6 | 12 |  8.00 |    8.00 |  60.00</span>
<span class="co">#&gt;     7 | 19 | 12.67 |   12.67 |  72.67</span>
<span class="co">#&gt;     8 | 16 | 10.67 |   10.67 |  83.33</span>
<span class="co">#&gt;     9 | 15 | 10.00 |   10.00 |  93.33</span>
<span class="co">#&gt;    10 | 10 |  6.67 |    6.67 | 100.00</span>
<span class="co">#&gt;  &lt;NA&gt; |  0 |  0.00 |    &lt;NA&gt; |   &lt;NA&gt;</span>

<span class="fu"><a href="../reference/frq.html">frq</a></span><span class="op">(</span><span class="fu"><a href="../reference/group_var.html">group_var</a></span><span class="op">(</span><span class="va">x</span>, size <span class="op">=</span> <span class="fl">5</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; x &lt;numeric&gt;</span>
<span class="co">#&gt; # total N=150  valid N=150  mean=1.68  sd=0.59</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Value |  N | Raw % | Valid % | Cum. %</span>
<span class="co">#&gt; -------------------------------------</span>
<span class="co">#&gt;     1 | 58 | 38.67 |   38.67 |  38.67</span>
<span class="co">#&gt;     2 | 82 | 54.67 |   54.67 |  93.33</span>
<span class="co">#&gt;     3 | 10 |  6.67 |    6.67 | 100.00</span>
<span class="co">#&gt;  &lt;NA&gt; |  0 |  0.00 |    &lt;NA&gt; |   &lt;NA&gt;</span>

<span class="fu"><a href="../reference/group_var.html">group_labels</a></span><span class="op">(</span><span class="va">x</span>, size <span class="op">=</span> <span class="fl">5</span><span class="op">)</span>
<span class="co">#&gt; [1] "0-4"   "5-9"   "10-14"</span>

<span class="va">dummy</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/group_var.html">group_var</a></span><span class="op">(</span><span class="va">x</span>, size <span class="op">=</span> <span class="fl">5</span>, as.num <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/levels.html" class="external-link">levels</a></span><span class="op">(</span><span class="va">dummy</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/group_var.html">group_labels</a></span><span class="op">(</span><span class="va">x</span>, size <span class="op">=</span> <span class="fl">5</span><span class="op">)</span>
<span class="fu"><a href="../reference/frq.html">frq</a></span><span class="op">(</span><span class="va">dummy</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; x &lt;categorical&gt;</span>
<span class="co">#&gt; # total N=150  valid N=150  mean=1.68  sd=0.59</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Value |  N | Raw % | Valid % | Cum. %</span>
<span class="co">#&gt; -------------------------------------</span>
<span class="co">#&gt; 0-4   | 58 | 38.67 |   38.67 |  38.67</span>
<span class="co">#&gt; 5-9   | 82 | 54.67 |   54.67 |  93.33</span>
<span class="co">#&gt; 10-14 | 10 |  6.67 |    6.67 | 100.00</span>
<span class="co">#&gt; &lt;NA&gt;  |  0 |  0.00 |    &lt;NA&gt; |   &lt;NA&gt;</span>

<span class="va">dummy</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/group_var.html">group_var</a></span><span class="op">(</span><span class="va">x</span>, size <span class="op">=</span> <span class="fl">3</span>, as.num <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/levels.html" class="external-link">levels</a></span><span class="op">(</span><span class="va">dummy</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/group_var.html">group_labels</a></span><span class="op">(</span><span class="va">x</span>, size <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>
<span class="fu"><a href="../reference/frq.html">frq</a></span><span class="op">(</span><span class="va">dummy</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; x &lt;categorical&gt;</span>
<span class="co">#&gt; # total N=150  valid N=150  mean=2.48  sd=0.96</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Value |  N | Raw % | Valid % | Cum. %</span>
<span class="co">#&gt; -------------------------------------</span>
<span class="co">#&gt; 0-2   | 25 | 16.67 |   16.67 |  16.67</span>
<span class="co">#&gt; 3-5   | 53 | 35.33 |   35.33 |  52.00</span>
<span class="co">#&gt; 6-8   | 47 | 31.33 |   31.33 |  83.33</span>
<span class="co">#&gt; 9-11  | 25 | 16.67 |   16.67 | 100.00</span>
<span class="co">#&gt; &lt;NA&gt;  |  0 |  0.00 |    &lt;NA&gt; |   &lt;NA&gt;</span></code></pre></div>
<p>The argument <code>right.interval</code> can be used when <code>size</code> should indicate the <em>upper bound</em> of a group-range.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">dummy</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/group_var.html">group_var</a></span><span class="op">(</span><span class="va">x</span>, size <span class="op">=</span> <span class="fl">4</span>, as.num <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/levels.html" class="external-link">levels</a></span><span class="op">(</span><span class="va">dummy</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/group_var.html">group_labels</a></span><span class="op">(</span><span class="va">x</span>, size <span class="op">=</span> <span class="fl">4</span><span class="op">)</span>
<span class="fu"><a href="../reference/frq.html">frq</a></span><span class="op">(</span><span class="va">dummy</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; x &lt;categorical&gt;</span>
<span class="co">#&gt; # total N=150  valid N=150  mean=2.00  sd=0.74</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Value |  N | Raw % | Valid % | Cum. %</span>
<span class="co">#&gt; -------------------------------------</span>
<span class="co">#&gt; 0-3   | 41 | 27.33 |   27.33 |  27.33</span>
<span class="co">#&gt; 4-7   | 68 | 45.33 |   45.33 |  72.67</span>
<span class="co">#&gt; 8-11  | 41 | 27.33 |   27.33 | 100.00</span>
<span class="co">#&gt; &lt;NA&gt;  |  0 |  0.00 |    &lt;NA&gt; |   &lt;NA&gt;</span>

<span class="va">dummy</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/group_var.html">group_var</a></span><span class="op">(</span><span class="va">x</span>, size <span class="op">=</span> <span class="fl">4</span>, as.num <span class="op">=</span> <span class="cn">FALSE</span>, right.interval <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/levels.html" class="external-link">levels</a></span><span class="op">(</span><span class="va">dummy</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/group_var.html">group_labels</a></span><span class="op">(</span><span class="va">x</span>, size <span class="op">=</span> <span class="fl">4</span>, right.interval <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="fu"><a href="../reference/frq.html">frq</a></span><span class="op">(</span><span class="va">dummy</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; x &lt;categorical&gt;</span>
<span class="co">#&gt; # total N=150  valid N=150  mean=1.78  sd=0.71</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Value |  N | Raw % | Valid % | Cum. %</span>
<span class="co">#&gt; -------------------------------------</span>
<span class="co">#&gt; 1-4   | 58 | 38.67 |   38.67 |  38.67</span>
<span class="co">#&gt; 5-8   | 67 | 44.67 |   44.67 |  83.33</span>
<span class="co">#&gt; 9-12  | 25 | 16.67 |   16.67 | 100.00</span>
<span class="co">#&gt; &lt;NA&gt;  |  0 |  0.00 |    &lt;NA&gt; |   &lt;NA&gt;</span></code></pre></div>
</div>
<div id="flexible-recoding-of-variables" class="section level2">
<h2 class="hasAnchor">
<a href="#flexible-recoding-of-variables" class="anchor" aria-hidden="true"></a>Flexible recoding of variables</h2>
<p><code><a href="../reference/rec.html">rec()</a></code> recodes old values of variables into new values, and can be considered as a “classsical” recode-function. The recode-pattern, i.e. which new values should replace the old values, is defined in the <code>rec</code>-argument. This argument has a specific “syntax”:</p>
<ul>
<li><p><strong>recode pairs</strong>: Each recode pair has to be separated by a ;, e.g. <code>rec = "1=1; 2=4; 3=2; 4=3"</code></p></li>
<li><p><strong>multiple values</strong>: Multiple old values that should be recoded into a new single value may be separated with comma, e.g. <code>rec = "1,2=1; 3,4=2"</code></p></li>
<li><p><strong>value range</strong>: A value range is indicated by a colon, e.g. <code>rec = "1:4=1; 5:8=2"</code> (recodes all values from 1 to 4 into 1, and from 5 to 8 into 2)</p></li>
<li><p><strong>value range for doubles</strong>: For double vectors (with fractional part), all values within the specified range are recoded; e.g. <code>rec = "1:2.5=1;2.6:3=2"</code> recodes 1 to 2.5 into 1 and 2.6 to 3 into 2, but 2.55 would not be recoded (since it’s not included in any of the specified ranges)</p></li>
<li><p><strong>“min” and “max”</strong>: Minimum and maximum values are indicates by <code>min</code> (or <code>lo</code>) and <code>max</code> (or <code>hi</code>), e.g. <code>rec = "min:4=1; 5:max=2"</code> (recodes all values from minimum values of x to 4 into 1, and from 5 to maximum values of x into 2) You can also use <code>min</code> or <code>max</code> to recode a value into the minimum or maximum value of a variable, e.g. <code>rec = "min:4=1; 5:7=max"</code> (recodes all values from minimum values of x to 4 into 1, and from 5 to 7 into the maximum value of x).</p></li>
<li><p><strong>“else”</strong>: All other values, which have not been specified yet, are indicated by else, e.g. <code>rec = "3=1; 1=2; else=3"</code> (recodes 3 into 1, 1 into 2 and all other values into 3)</p></li>
<li><p><strong>“copy”</strong>: The <code>"else"</code>-token can be combined with <code>"copy"</code>, indicating that all remaining, not yet recoded values should stay the same (are copied from the original value), e.g. <code>rec = "3=1; 1=2; else=copy"</code> (recodes 3 into 1, 1 into 2 and all other values like 2, 4 or 5 etc. will not be recoded, but copied.</p></li>
<li><p><strong>NA’s</strong>: <code>NA</code> values are allowed both as old and new value, e.g. <code>rec = "NA=1; 3:5=NA"</code> (recodes all <code>NA</code> into 1, and all values from 3 to 5 into NA in the new variable)</p></li>
<li><p><strong>“rev”</strong>: <code>"rev"</code> is a special token that reverses the value order.</p></li>
<li><p><strong>direct value labelling</strong>: Value labels for new values can be assigned inside the recode pattern by writing the value label in square brackets after defining the new value in a recode pair, e.g. <code>rec = "15:30=1 [young aged]; 31:55=2 [middle aged]; 56:max=3 [old aged]"</code></p></li>
<li><p><strong>non-captured values</strong>: Non-matching values will be set to <code>NA</code>, unless captured by the <code>"else"</code>- or <code>"copy"</code>-token.</p></li>
</ul>
<p>Here are some examples:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/frq.html">frq</a></span><span class="op">(</span><span class="va">efc</span><span class="op">$</span><span class="va">e42dep</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; elder's dependency (x) &lt;numeric&gt;</span>
<span class="co">#&gt; # total N=908  valid N=901  mean=2.94  sd=0.94</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Value |                Label |   N | Raw % | Valid % | Cum. %</span>
<span class="co">#&gt; -------------------------------------------------------------</span>
<span class="co">#&gt;     1 |          independent |  66 |  7.27 |    7.33 |   7.33</span>
<span class="co">#&gt;     2 |   slightly dependent | 225 | 24.78 |   24.97 |  32.30</span>
<span class="co">#&gt;     3 | moderately dependent | 306 | 33.70 |   33.96 |  66.26</span>
<span class="co">#&gt;     4 |   severely dependent | 304 | 33.48 |   33.74 | 100.00</span>
<span class="co">#&gt;  &lt;NA&gt; |                 &lt;NA&gt; |   7 |  0.77 |    &lt;NA&gt; |   &lt;NA&gt;</span>

<span class="co"># replace NA with 5</span>
<span class="fu"><a href="../reference/frq.html">frq</a></span><span class="op">(</span><span class="fu"><a href="../reference/rec.html">rec</a></span><span class="op">(</span><span class="va">efc</span><span class="op">$</span><span class="va">e42dep</span>, rec <span class="op">=</span> <span class="st">"NA=5;else=copy"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; elder's dependency (x) &lt;numeric&gt;</span>
<span class="co">#&gt; # total N=908  valid N=908  mean=2.96  sd=0.95</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Value |   N | Raw % | Valid % | Cum. %</span>
<span class="co">#&gt; --------------------------------------</span>
<span class="co">#&gt;     1 |  66 |  7.27 |    7.27 |   7.27</span>
<span class="co">#&gt;     2 | 225 | 24.78 |   24.78 |  32.05</span>
<span class="co">#&gt;     3 | 306 | 33.70 |   33.70 |  65.75</span>
<span class="co">#&gt;     4 | 304 | 33.48 |   33.48 |  99.23</span>
<span class="co">#&gt;     5 |   7 |  0.77 |    0.77 | 100.00</span>
<span class="co">#&gt;  &lt;NA&gt; |   0 |  0.00 |    &lt;NA&gt; |   &lt;NA&gt;</span>

<span class="co"># recode 1 to 2 into 1 and 3 to 4 into 2</span>
<span class="fu"><a href="../reference/frq.html">frq</a></span><span class="op">(</span><span class="fu"><a href="../reference/rec.html">rec</a></span><span class="op">(</span><span class="va">efc</span><span class="op">$</span><span class="va">e42dep</span>, rec <span class="op">=</span> <span class="st">"1,2=1; 3,4=2"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; elder's dependency (x) &lt;numeric&gt;</span>
<span class="co">#&gt; # total N=908  valid N=901  mean=1.68  sd=0.47</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Value |   N | Raw % | Valid % | Cum. %</span>
<span class="co">#&gt; --------------------------------------</span>
<span class="co">#&gt;     1 | 291 | 32.05 |   32.30 |  32.30</span>
<span class="co">#&gt;     2 | 610 | 67.18 |   67.70 | 100.00</span>
<span class="co">#&gt;  &lt;NA&gt; |   7 |  0.77 |    &lt;NA&gt; |   &lt;NA&gt;</span>

<span class="co"># recode 1 to 3 into 4 into 2</span>
<span class="fu"><a href="../reference/frq.html">frq</a></span><span class="op">(</span><span class="fu"><a href="../reference/rec.html">rec</a></span><span class="op">(</span><span class="va">efc</span><span class="op">$</span><span class="va">e42dep</span>, rec <span class="op">=</span> <span class="st">"min:3=1; 4=2"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; elder's dependency (x) &lt;numeric&gt;</span>
<span class="co">#&gt; # total N=908  valid N=901  mean=1.34  sd=0.47</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Value |   N | Raw % | Valid % | Cum. %</span>
<span class="co">#&gt; --------------------------------------</span>
<span class="co">#&gt;     1 | 597 | 65.75 |   66.26 |  66.26</span>
<span class="co">#&gt;     2 | 304 | 33.48 |   33.74 | 100.00</span>
<span class="co">#&gt;  &lt;NA&gt; |   7 |  0.77 |    &lt;NA&gt; |   &lt;NA&gt;</span>

<span class="co"># recode numeric to character, and remaining values</span>
<span class="co"># into the highest value (="hi") of e42dep</span>
<span class="fu"><a href="../reference/frq.html">frq</a></span><span class="op">(</span><span class="fu"><a href="../reference/rec.html">rec</a></span><span class="op">(</span><span class="va">efc</span><span class="op">$</span><span class="va">e42dep</span>, rec <span class="op">=</span> <span class="st">"1=first;2=2nd;else=hi"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; elder's dependency (x) &lt;character&gt;</span>
<span class="co">#&gt; # total N=908  valid N=901  mean=2.43  sd=0.86</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Value |   N | Raw % | Valid % | Cum. %</span>
<span class="co">#&gt; --------------------------------------</span>
<span class="co">#&gt; 2nd   | 225 | 24.78 |   24.97 |  24.97</span>
<span class="co">#&gt; first |  66 |  7.27 |    7.33 |  32.30</span>
<span class="co">#&gt; hi    | 610 | 67.18 |   67.70 | 100.00</span>
<span class="co">#&gt; &lt;NA&gt;  |   7 |  0.77 |    &lt;NA&gt; |   &lt;NA&gt;</span>

<span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">iris</span><span class="op">)</span>
<span class="fu"><a href="../reference/frq.html">frq</a></span><span class="op">(</span><span class="fu"><a href="../reference/rec.html">rec</a></span><span class="op">(</span><span class="va">iris</span>, <span class="va">Species</span>, rec <span class="op">=</span> <span class="st">"setosa=huhu; else=copy"</span>, append <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Species_r &lt;categorical&gt;</span>
<span class="co">#&gt; # total N=150  valid N=150  mean=2.00  sd=0.82</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Value      |  N | Raw % | Valid % | Cum. %</span>
<span class="co">#&gt; ------------------------------------------</span>
<span class="co">#&gt; huhu       | 50 | 33.33 |   33.33 |  33.33</span>
<span class="co">#&gt; versicolor | 50 | 33.33 |   33.33 |  66.67</span>
<span class="co">#&gt; virginica  | 50 | 33.33 |   33.33 | 100.00</span>
<span class="co">#&gt; &lt;NA&gt;       |  0 |  0.00 |    &lt;NA&gt; |   &lt;NA&gt;</span>

<span class="co"># works with mutate</span>
<span class="va">efc</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">e42dep</span>, <span class="va">e17age</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>dependency_rev <span class="op">=</span> <span class="fu"><a href="../reference/rec.html">rec</a></span><span class="op">(</span><span class="va">e42dep</span>, rec <span class="op">=</span> <span class="st">"rev"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt;   e42dep e17age dependency_rev</span>
<span class="co">#&gt; 1      3     83              2</span>
<span class="co">#&gt; 2      3     88              2</span>
<span class="co">#&gt; 3      3     82              2</span>
<span class="co">#&gt; 4      4     67              1</span>
<span class="co">#&gt; 5      4     84              1</span>
<span class="co">#&gt; 6      4     85              1</span>

<span class="co"># recode multiple variables and set value labels via recode-syntax</span>
<span class="va">dummy</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/rec.html">rec</a></span><span class="op">(</span>
  <span class="va">efc</span>, <span class="va">c160age</span>, <span class="va">e17age</span>,
  rec <span class="op">=</span> <span class="st">"15:30=1 [young]; 31:55=2 [middle]; 56:max=3 [old]"</span>,
  append <span class="op">=</span> <span class="cn">FALSE</span>
<span class="op">)</span>
<span class="fu"><a href="../reference/frq.html">frq</a></span><span class="op">(</span><span class="va">dummy</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; carer' age (c160age_r) &lt;numeric&gt;</span>
<span class="co">#&gt; # total N=908  valid N=901  mean=2.40  sd=0.59</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Value |  Label |   N | Raw % | Valid % | Cum. %</span>
<span class="co">#&gt; -----------------------------------------------</span>
<span class="co">#&gt;     1 |  young |  48 |  5.29 |    5.33 |   5.33</span>
<span class="co">#&gt;     2 | middle | 442 | 48.68 |   49.06 |  54.38</span>
<span class="co">#&gt;     3 |    old | 411 | 45.26 |   45.62 | 100.00</span>
<span class="co">#&gt;  &lt;NA&gt; |   &lt;NA&gt; |   7 |  0.77 |    &lt;NA&gt; |   &lt;NA&gt;</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; elder' age (e17age_r) &lt;numeric&gt;</span>
<span class="co">#&gt; # total N=908  valid N=891  mean=3.00  sd=0.00</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Value |  Label |   N | Raw % | Valid % | Cum. %</span>
<span class="co">#&gt; -----------------------------------------------</span>
<span class="co">#&gt;     1 |  young |   0 |  0.00 |       0 |      0</span>
<span class="co">#&gt;     2 | middle |   0 |  0.00 |       0 |      0</span>
<span class="co">#&gt;     3 |    old | 891 | 98.13 |     100 |    100</span>
<span class="co">#&gt;  &lt;NA&gt; |   &lt;NA&gt; |  17 |  1.87 |    &lt;NA&gt; |   &lt;NA&gt;</span></code></pre></div>
</div>
<div id="scoped-variants" class="section level2">
<h2 class="hasAnchor">
<a href="#scoped-variants" class="anchor" aria-hidden="true"></a>Scoped variants</h2>
<p>Where applicable, the recoding-functions in <strong>sjmisc</strong> have “scoped” versions as well, e.g. <code><a href="../reference/dicho.html">dicho_if()</a></code> or <code><a href="../reference/split_var.html">split_var_if()</a></code>, where transformation will be applied only to those variables that match the logical condition of <code>predicate</code>.</p>
</div>
<div id="cheat-sheet" class="section level2">
<h2 class="hasAnchor">
<a href="#cheat-sheet" class="anchor" aria-hidden="true"></a>Cheat Sheet</h2>
<p>A cheatsheet can be downloaded from the <a href="https://rstudio.com/resources/cheatsheets/" class="external-link">RStudio cheatsheet collection</a>.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by <a href="https://github.com/strengejacke" class="external-link external-link">Daniel Lüdecke</a>.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link external-link">pkgdown</a> 1.6.1.9001.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
